<!-- Navigation Menu -->
<header>
    <div ng-include="'views/header.html'"></div>
</header>
<!-- //Navigation Menu -->

<div class="main-container">
	<!-- Side Nav -->
	<div ng-include="'views/side-nav.html'"></div>
	<!-- //Side Nav -->
	
	<!-- Partial Views -->
	<div class="main-content-wrapper">
	    <div class="main-content">
	        <div ng-controller="jobPostingsUploadCtrl">
	            <h3>Post A New Job</h3>
	            <div class="content-grid">
	                <div class="clearfix">
	                    <form novalidate name="jobPostingsForm" method="POST" enctype="multipart/form-data" id="courseSchedulesForm" autocomplete="on">
	                        <div class="form-group col-xs-12 col-sm-6 col-md-4 col-lg-4">
	                            <label for="job-id">Job ID <span class="important">*</span></label>
	                            <input type="text" id="job-id" class="form-control" name="jobId" ng-model="job_id" ng-maxlength="12" ng-pattern="/^[a-zA-Z0-9.# ]{1,12}$/" placeholder="Job ID" ng-required="true">
	                            <span class="validation_styles" ng-show="jobPostingsForm.jobId.$error.required && jobPostingsForm.jobId.$touched">* Job ID is required<br></span>
	                            <span class="validation_styles" ng-show="jobPostingsForm.jobId.$error.pattern && jobPostingsForm.jobId.$touched">* Job ID should contain only alphabets and numbers<br></span>
	                            <span class="validation_styles" ng-show="jobPostingsForm.jobId.$error.maxlength && jobPostingsForm.jobId.$touched">* Job ID should be 12 characters only<br></span>
                            </div>
	                        <div class="form-group col-xs-12 col-sm-6 col-md-4 col-lg-4">
	                            <label for="job-title">Job Title / Position <span class="important">*</span></label>
	                            <input type="text" id="job-title" class="form-control" name="jobTitle" ng-model="position" ng-minlength="2" ng-maxlength="150" ng-pattern="/^[a-zA-Z0-9.# ]{2,150}$/" placeholder="Job Title / Position" ng-required="true">
	                            <span class="validation_styles" ng-show="jobPostingsForm.jobTitle.$error.required && jobPostingsForm.jobTitle.$touched">* Job Title / Position is required<br></span>
	                            <span class="validation_styles" ng-show="jobPostingsForm.jobTitle.$error.pattern && jobPostingsForm.jobTitle.$invalid">* Job Title / Position should contain only alphabets, numbers, dots, hash and spaces.<br></span>
	                            <span class="validation_styles" ng-show="jobPostingsForm.jobTitle.$error.minlength && jobPostingsForm.jobTitle.$touched">* Job Title / Position should be minimum of 2 characters.<br></span>
	                            <span class="validation_styles" ng-show="jobPostingsForm.jobTitle.$error.maxlength && jobPostingsForm.jobTitle.$touched">* Job Title / Position should be maximum of 250 characters</span>
                            </div>
                            <div class="clearfix hidden-xs hidden-md hidden-lg"></div>
	                        <div class="form-group col-xs-12 col-sm-6 col-md-4 col-lg-4">
	                            <label for="min-exp">Minimum Experience <span class="important">*</span></label>
	                            <input type="text" id="min-exp" class="form-control" name="minExp" ng-model="min_experience" ng-pattern="/^[0-9]{1,2}.[0-9]{1,2}$/" placeholder="ex: 0.6" ng-required="true">
	                            <span class="validation_styles" ng-show="jobPostingsForm.minExp.$error.required && jobPostingsForm.minExp.$touched">* Minimum Experience is required<br></span>
	                            <span class="validation_styles" ng-show="jobPostingsForm.minExp.$error.pattern && jobPostingsForm.minExp.$invalid">* Minimum Experience should contain only numbers and dot<br></span>
                            </div>
                            <div class="clearfix hidden-sm"></div>
	                        <div class="form-group col-xs-12 col-sm-6 col-md-4 col-lg-4">
	                            <label for="max-exp">Maximum Experience <span class="important">*</span></label>
	                            <input type="text" id="max-exp" class="form-control" name="maxExp" ng-model="max_experience" ng-pattern="/^[0-9]{1,2}.[0-9]{1,2}$/" placeholder="ex: 12.5" ng-required="true">
	                            <span class="validation_styles" ng-show="jobPostingsForm.maxExp.$error.required && jobPostingsForm.maxExp.$touched">* Maximum Experience is required<br></span>
	                            <span class="validation_styles" ng-show="jobPostingsForm.maxExp.$error.pattern && jobPostingsForm.maxExp.$invalid">* Maximum Experience should contain only numbers and dot<br></span>
                            </div>
                            <div class="clearfix hidden-xs hidden-md hidden-lg"></div>
	                        <div class="form-group col-xs-12 col-sm-6 col-md-4 col-lg-4">
	                            <label for="job-posting-date-time">Job Posting Date & Time <span class="important">*</span></label>
	                            <input type="datetime-local" id="job-posting-date-time" class="form-control" name="jobPostingDate" ng-model="job_posting_date" ng-required="true">
	                            <span class="validation_styles" ng-show="jobPostingsForm.jobPostingDate.$error.required && jobPostingsForm.jobPostingDate.$touched">* Job posting date is required<br></span>
	                            <span class="validation_styles" ng-show="jobPostingsForm.jobPostingDate.$error.datetimelocal && jobPostingsForm.jobPostingDate.$touched">* Not a valid date or time!<br></span>
	                        </div>
                            <div class="form-group col-xs-12 col-sm-6 col-md-4 col-lg-4">
                                <label for="job-desc" class="control-label">Job Description File <span class="important">*</span></label>
                                <input type="file" id="job-desc" name="jobDesc" ng-model="files" file-input="files" onchange="angular.element(this).scope().uploadedFile(this)" accept=".pdf" ng-required="true">
                            </div>
                            <div class="clearfix"></div>
                            <div class="form-group col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <button type="submit" class="btn-custom btn-custom-md transition" ng-disabled="jobPostingsForm.$invalid" ng-click="fn_insertJobPostings()">{{ btnName }}</button>
                                <button type="reset" class="btn-custom-inverse btn-custom-md transition" ng-click="fn_reset()">Cancel</button>
                            </div>
	                    </form>
	                </div>
	            </div>
	            <div class="alert alert-success alert-dismissible" role="alert" ng-if="successMessage">
	                <i class="fa fa-check" aria-hidden="true"></i> <span ng-bind="successMessage"></span>
	                <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	            </div>
	            <div class="alert alert-danger alert-dismissible" role="alert" ng-if="errorMessage">
	                <i class="fa fa-exclamation" aria-hidden="true"></i> <span ng-bind="errorMessage"></span>
	                <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>
                <hr>
                <!-- Fetch all uploaded courses and display in table -->
				<h3>Job Postings List</h3>
				<div class="table-wrapper">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr class="filterRow">
                                    <th></th>
                                    <th>
                                        <input class="searchFilterBox" type="text" ng-model="searchSchedule.course_name" placeholder="Search a Course">
                                    </th>
                                    <th></th>
                                    <th></th>
                                    <th>
                                        <select ng-model="searchSchedule.batch_type">
                                            <option value="">All Batch Types</option>
                                            <option>Regular</option>
                                            <option>Weekend</option>
                                            <option>Fastrack</option>
                                        </select>
                                    </th>
                                    <th>
                                        <select ng-model="searchSchedule.training_type">
                                            <option value="">All Training Types</option>
                                            <option>Online</option>
                                            <option>On-site</option>
                                            <option>On-demand</option>
                                        </select>
                                    </th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                </tr>
                                <tr>
                                    <th>#</th>
                                    <th nowrap ng-click="asc='courseName'; desc=!desc">
                                        <span class="th-title-wrap">Course Name</span>
                                        <i class="fa fa-sort-asc" aria-hidden="true"></i>
                                        <i class="fa fa-sort-desc" aria-hidden="true"></i>
                                    </th>
                                    <th nowrap>Start Date</th>
                                    <th>Time</th>
                                    <th nowrap>Batch Type</th>
                                    <th nowrap>Training Type</th>
                                    <th>Duration</th>
                                    <th nowrap>Trainer Name</th>
                                    <th nowrap>Posted Date</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="table-row" dir-paginate="schedule in courseSchedules | orderBy:asc:desc | filter:searchSchedule | itemsPerPage:10">
                                    <td>{{ $index + 1 }}.</td>
                                    <td nowrap class="btn-container">
                                        {{ schedule.course_name }}
                                        <span class="updateDelete">
                                            <button type="button" title="Delete" ng-click="fn_deleteSchedule(schedule.sno);">
                                                <i class="fa fa-trash-o" aria-hidden="true"></i>
                                            </button>
                                            <button type="button" title="Edit" ng-click="fn_editSchedule(schedule.sno, schedule.course_name, schedule.start_date, schedule.batch_type, schedule.training_type, schedule.duration, schedule.trainer_name, schedule.btnName);">
                                                <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                            </button>
                                        </span>
                                    </td>
                                    <td nowrap>{{ schedule.start_date | date:'dd MMM yyyy' }}</td>
                                    <td nowrap>{{ schedule.start_date | date:'hh:mm a' }}</td>
                                    <td nowrap>{{ schedule.batch_type }}</td>
                                    <td nowrap>{{ schedule.training_type }}</td>
                                    <td nowrap>{{ schedule.duration }} hrs</td>
                                    <td nowrap>Mr. {{ schedule.trainer_name }}</td>
                                    <td nowrap>{{ schedule.date_time }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
				</div>
				
				<!-- Pagination -->
                <div class="text-center">
                   <dir-pagination-controls
                        max-size="5"
                        direction-links="true"
                        boundary-links="true" >
                   </dir-pagination-controls>
                </div>
	        </div>
	    </div>
	</div>
	<!-- //Partial Views -->
	
	<!-- Footer -->
	<footer>
	    <div ng-include="'views/footer.html'"></div>
	</footer>
	<!-- //Footer -->
</div>
